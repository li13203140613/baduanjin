# 八段锦与站桩练习平台 · 需求文档（更新版）

---

## 1. 项目概述

本项目旨在为站桩与八段锦练习者提供一个高效、简洁、专业的 Web 练习平台。平台包含两个核心功能模块：**站桩计时（音乐提醒）**与 **八段锦节奏练习（呼吸节奏音效）**。目标是帮助用户更好地把握练习节奏，提高效率与专注度。

本次文档基于新需求进行了更新：**吸气/呼气时长分开设置、支持最长 90 秒、八段锦可针对每一节单独设置节奏、提供快速设置交互方案**。

---

## 2. 功能需求

## 2.1 站桩功能

### 2.1.1 站桩音乐循环播放

* 使用固定 **15 分钟** 的轻音乐作为计时单位。
* 用户点击“开始”→ 音乐开始循环播放，直至用户主动“停止”。
* 音乐每播放一次即代表 15 分钟完成。

### 2.1.2 站立时长展示

* 显示当前音乐段数，例如：“第 2 段 · 已站立 30 分钟”。
* 可选配置：是否显示总时长。

---

## 2.2 八段锦练习功能

八段锦共有 **八节动作**，每一节都可独立配置吸气/呼气节奏与重复次数。

### 2.2.1 八段名称（固定顺序，不可跳过）

1. 双手托天理三焦
2. 左右开弓似射雕
3. 调理脾胃须单举
4. 五劳七伤往后瞧
5. 摇头摆尾去心火
6. 两手攀足固肾腰
7. 攒拳怒目增气力
8. 背后七颠百病消

---

## 2.2.2 呼吸节奏设置（重要更新）

### **新增：吸气与呼气分开设置**

* 原本吸/呼统一时长 → 调整为：

  * **吸气时长：1～90 秒**
  * **呼气时长：1～90 秒**
* 每节八段锦动作均可独立设置：

  * 吸气时长
  * 呼气时长
  * 重复次数（1、4、6、8 次）

### 2.2.3 全局快速设置（为老手准备）

* 考虑老手需要快速批量设置节奏，提供两个层级：

#### **（A）全局设置（一次设定 → 作用所有八节）**

* 全局吸气：X 秒
* 全局呼气：Y 秒
* 全局重复：1/4/6/8

#### **（B）单节高级设置（覆盖全局设置）**

* 某一节可单独调整呼吸时长与重复次数。

---

## 2.2.4 设置入口（UI 交互调整 · 新增）

### **建议：将“八段锦设置”放置于右上角按钮，以便老手快速进入设置层**

* 右上角按钮：**“节奏设置 ⚙️”**
* 点击后弹出一个设置弹窗（modal），包含：

  * 全局设置区
  * 八节独立设置区（折叠/展开列表）
* 弹窗右下角：保存 / 取消按钮
* 保存后立即应用

此交互可以兼顾：

* 新手：只用全局设置即可
* 老手：展开高级设置，精细调节每一节

---

## 2.2.5 八段锦播放流程

* 用户完成设置 → 点击“开始练习”
* 系统将按照八段顺序播放：

  * 播放吸气音效，持续吸气设置时长
  * 播放呼气音效，持续呼气设置时长
  * 动作重复指定次数后自动进入下一节
* 用户无法跳过顺序
* 可暂停/继续/停止

---

### 2.2.6 节次语音提示与首轮引导音效（新增）

* 为八段锦每一节配置独立的节次说明音频文件：第一节.mp3、第二节.mp3 … 第八节.mp3。
* 当练习流程**第一次进入某一节**时，先播放对应的节次音频一次，例如进入第一节时先播放“第一节.mp3”。
* 节次音频播放完毕后，才开始执行该节的呼吸节奏逻辑（按既定吸气/呼气时长与重复次数进行循环）。
* 在同一节内后续的重复循环（例如该节需要重复 6 次），**不再重复播放节次音频**，只播放呼吸节奏音效与节奏动画/进度提示。
* 当用户重新开始一整套八段锦练习（从第 1 节重新开始）时，各节的节次音频会重新按照上述规则在每节第一次进入时播放。
* 暂停/继续规则：若在节次音频或该节呼吸循环过程中点击“暂停”，恢复时从暂停位置继续，不重复播放已播完的节次音频。

### 2.2.7 全程预备与结束语音（新增）

* 新增两段全局音频文件：预备.mp3、结尾.mp3。
* 当用户点击“开始练习”（从第 1 节开始整套八段锦）时：

  * 先播放预备.mp3 一次，作为整套练习的预备提示；
  * 预备.mp3 播放结束后，再进入第一节流程，并按 2.2.6 的规则播放“第一节.mp3”，然后执行该节呼吸节奏。
* 当第八节的最后一次呼吸循环完成后：

  * 播放结尾.mp3 一次，作为整套练习结束提示；
  * 结尾.mp3 播放完成后，本次练习流程结束，页面状态回到“可再次开始”的初始状态。
* 播放预备.mp3、结尾.mp3 以及各节节次音频时，**页面不额外弹出对话框或强提醒**，仅保持当前练习页面与进度展示（例如可在现有进度区轻量展示文字状态“预备中… / 第 X 节”等，避免新增干扰性 UI 动作）。

### 2.2.8 对原有需求的影响与补充说明（更新）

* 对原有“2.2.5 八段锦播放流程”的补充：

  * 播放顺序更新为：预备.mp3 → 第一节节次音频 → 第一节呼吸循环… → 第二节节次音频 → 第二节呼吸循环… → … → 第八节节次音频 → 第八节呼吸循环 → 结尾.mp3；
  * 每节节次音频仅在该节首次进入时播放一次，其余重复循环不再重复节次音频。
* 原有界面逻辑不变：开始/暂停/停止按钮行为不变，仅在流程中新增上述音频播放节点；
* 若未来需要在 UI 上展示当前音频状态（如“预备中/节次提示/呼吸循环中”），应作为轻量级文字提示，不影响现有操作路径与按钮位置。

## 3. 用户流程（User Flow）

## 3.1 站桩流程

1. 进入站桩页面
2. 点击“开始”→ 播放 15 分钟音乐
3. 可暂停/停止
4. 音乐每播放一次记录为一段

---

## 3.2 八段锦练习流程

1. 用户点击右上角“节奏设置”进入设置弹窗
2. 配置：

   * 全局吸气/呼气（可选）
   * 或在每一节独立设置
3. 点击“保存”
4. 点击“开始练习”
5. 系统自动按八段顺序播放音效
6. 练习中可暂停/停止

---

## 4. 界面设计要求

* 八段锦页面右上角：设置按钮（关键设计）
* 弹窗内提供大号滑动条或数字输入（避免键盘使用）
* 吸气/呼气输入允许长滑条（1～90 秒）
* 各节设置列表可折叠，保持简洁
* 动作播放页面应显示：

  * 当前在第几节
  * 当前吸气/呼气倒计时
  * 重复次数计数

---


---

## 6. 边界条件

* 吸/呼可设到 90 秒，需确保音频稳定播放
* 若用户未设置单节，则使用全局参数
* 若用户停在中途 → 提供“从本节继续”逻辑（可选未来版本）
* 在弱网环境音乐可能延迟，应提前预加载音频

---

如需，我可以继续为你：

* 画八段锦页面的 UI 原型图
* 画设置弹窗的结构
* 设计数据结构（JSON）
* 设计 Web Audio 播放节奏逻辑


\#技术栈

NextJS(App Router)

Typescript

TailwindCss

shadcn/ui